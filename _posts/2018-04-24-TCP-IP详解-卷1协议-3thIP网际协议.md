---
layout: post
title: TCP/IP详解 卷1:协议 第3章 IP 网际协议
excerpt: IP层
category: CS
---

##### IP层是怎么实现网络中传输的？有哪些策略保证尽力为的传输服务？如果发送特殊情况比如断电，噪声信号等等是怎么处理的？
- 不可靠(unreliable)不保证IP数据报能成功地到达目的地，IP尽力而为的传输服务，如果发生错误时，IP有个简单的错误处理算法，丢弃该数据报，然后发送ICMP消息报给信源端，任何要求的可靠性必须由上层提供，比如TCP
- 无连接(connectionless)IP层不维护任何关于后续数据报的状态信息，每一个报文的处理都是相互独立的，也说明IP数据报可以不按发送顺序接收，比如发送端顺序为A，B，接收端有可能先接收到B，再A，因为每个IP数据报都独立进行路由选择。
##### IP首部
##### IP路由选择
##### 子网寻址
##### 子网掩码
##### 特殊情况的IP地址
##### ifconfig命令
##### netstat命令
##### IP的未来


- IP路由选择，如果目的主机在直接相连接的网络上，那么就把数据报直接传给目的主机，否则传给默认路由器
- 在进行路由选择决策时，主机和路由器都使用路由表，在表中有三种类型的路由，特定主机型，特定网络型，默认路由型。路由表中的表目具有一定的优先级，在选择路由时，主机路由由优先于网络路由，最后在没有其它可选路由存在时才选择默认路由。
- IP路由选择都时通过逐跳来实现的，数据报在各站的传输过程中目的IP地址不变，但是封装和目的的链路层地址在每一站都可以改变，大多数的主机和许多路由器对于非本地网络的数据报都使用默认的下一站路由器。最后子网的划分缩小了Internet路由表的规模，因为许多网络经常可以通过单个表目就可以访问了。接口和网络有关信息可以通过ifconfig , netstat命令获得，包括接口的IP地址，子网掩码，广播地址，MTU等


